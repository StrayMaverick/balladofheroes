<div customToolTip [contentTemplate]="abilityPopover" class="container">
    <div class="centeredBox">
        <div #spinnerDiv class="ability" (click)="manuallyTrigger()" (contextmenu)="toggleAuto()">
            <div>
                <span class='abilityTimer' [ngClass]="{'manualModeImage': isAutoAttack ? !character.battleInfo.autoAttackAutoMode : !ability.autoMode }"><img class="abilityImage" [src]="isAutoAttack ? 'assets/svg/sword.svg' : lookupService.getAbilityImage(ability.name)"></span>                
                <span *ngIf="isAutoAttack ? !character.battleInfo.autoAttackAutoMode : !ability.autoMode " class="manualModeText"><strong>OFF</strong></span>
            </div>
            <mat-spinner class="spinner abilityTimer" [ngClass]="getStrokeColor()" mode="determinate" [diameter]="spinnerDiameter"
                [strokeWidth]="strokeWidth" [value]="isAutoAttack ? getCharacterAutoAttackProgress() : getAbilityProgress()"></mat-spinner>
            
        </div>
    </div>
</div>

<ng-template #abilityPopover>
    <div>
        <strong><span [innerHtml]="getAbilityName()"></span></strong>
        <hr class="miniHr" />
        <span [innerHtml]="getAbilityDescription()"></span>        
        <hr />
        Right click to toggle between Manual and Auto mode. Left click to manually use ability.
    </div>
</ng-template>
